<ion-header no-border>
  <ion-navbar transparent color="red">
    <ion-title>{{ 'ITEM_CREATE_TITLE' | translate }}</ion-title>
    <!-- <ion-buttons start>
      <button ion-button (click)="cancel()">
        <span color="primary" showWhen="ios">
          {{ 'CANCEL_BUTTON' | translate }}
        </span>
        <ion-icon name="md-close" showWhen="android,windows"></ion-icon>
      </button>
    </ion-buttons>
    <ion-buttons end>
      <button ion-button (click)="done()" [disabled]="!isReadyToSave" strong>
        <span color="primary" showWhen="ios">
          {{ 'DONE_BUTTON' | translate }}
        </span>
        <ion-icon name="md-checkmark" showWhen="core,android,windows"></ion-icon>
      </button>
    </ion-buttons> -->
  </ion-navbar>
</ion-header>
<ion-content [style.background-color]="marca.color">
  <div class="profile-image-wrapper" (click)="getPicture()">
    <div class="profile-image-placeholder" *ngIf="!this.form.controls.img.value">
      <ion-icon name="add"></ion-icon>
      <div>
        {{ 'ITEM_CREATE_CHOOSE_IMAGE' | translate }}
      </div>
    </div>
    <div class="profile-image" [style.backgroundImage]="getProfileImageStyle()" *ngIf="this.form.controls.img.value"></div>
  </div>

  <form *ngIf="form" [formGroup]="form" (ngSubmit)="createItem()">
    <input type="file" #fileInput style="visibility: hidden; height: 0px" name="files[]" (change)="processWebImage($event)" />
    <ion-grid>
      <ion-row>
        <ion-col col-12>
          <ion-card>
            <ion-card-content text-center>
              <img #imageCode [src]="imageCode" height="180px" />
            </ion-card-content>
          </ion-card>
        </ion-col>
        <ion-col col-12>
          <ion-card>
            <ion-card-content>
              <ion-item [class.hide]="marca.custom">
                <ion-label color="primary" stacked>{{ 'ITEM_NAME_PLACEHOLDER' | translate }}</ion-label>
                <ion-input type="text" placeholder="{{ 'ITEM_NAME_PLACEHOLDER' | translate }}" formControlName="name">{{marca.name}}</ion-input>
              </ion-item>
              <ion-item>
                <ion-label color="primary" stacked>{{ 'ITEM_ABOUT_PLACEHOLDER' | translate }}</ion-label>
                <ion-input type="text" placeholder="{{ 'ITEM_ABOUT_PLACEHOLDER' | translate }}"  (ionChange)="encodeText(marca.format,marca.code)" formControlName="code">{{marca.code}}</ion-input>
              </ion-item>
            </ion-card-content>
          </ion-card>
        </ion-col>
        <!-- <ion-col col-6>
          <ion-card>
            <ion-card-content>
              <ion-item>
                <ion-label color="primary" stacked>ANVERSO</ion-label>
                <ion-input type="text" placeholder="" formControlName="image_front">{{marca.image_front}}</ion-input>
              </ion-item>
              <img [src]="image_front">
            </ion-card-content>
          </ion-card>
        </ion-col>
        <ion-col col-6 col-xs-6>
          <ion-card>
            <ion-card-content>
              <ion-item>
                <ion-label color="primary" stacked>REVERSO</ion-label>
                <ion-input type="text" placeholder="" formControlName="image_back">{{marca.image_back}}</ion-input>
              </ion-item>
              <img [src]="image_back">
            </ion-card-content>
          </ion-card>
        </ion-col> -->
      </ion-row>
    </ion-grid>
  </form>
  <ion-fab right bottom>
    <button  color="light" ion-fab (click)="done()" [disabled]="!isReadyToSave" strong>
      <ion-icon ios="ios-checkmark" md="md-checkmark"></ion-icon>
      </button>
  </ion-fab>
  <ion-fab left bottom>
    <button color="light" ion-fab (click)="cancel()">
      <ion-icon ios="ios-close" md="md-close"></ion-icon>
    </button>
  </ion-fab>
</ion-content>
